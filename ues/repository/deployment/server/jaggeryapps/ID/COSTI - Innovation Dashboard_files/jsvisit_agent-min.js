function getHTTPObject(){var xhr=false;if(window.XMLHttpRequest){xhr=new XMLHttpRequest();}else{if(window.ActiveXObject){try{xhr=new ActiveXObject("Msxml2.XMLHTTP");}catch(e){try{xhr=new ActiveXObject("Microsoft.XMLHTTP");}catch(e){xhr=false;}}}}return xhr;}function setCookie(c_name,value,exdays){var exdate=new Date();var domain=document.location.hostname;exdate.setDate(exdate.getDate()+exdays);var c_value=escape(value)+((exdays==null)?"":"; expires="+exdate.toUTCString())+"; path=/; domain=."+domain;document.cookie=c_name+"="+c_value;}function getCookie(c_name){var c_value=document.cookie;var c_start=c_value.indexOf(" "+c_name+"=");if(c_start==-1){c_start=c_value.indexOf(c_name+"=");}if(c_start==-1){c_value=null;}else{c_start=c_value.indexOf("=",c_start)+1;var c_end=c_value.indexOf(";",c_start);if(c_end==-1){c_end=c_value.length;}c_value=unescape(c_value.substring(c_start,c_end));}return c_value;}function countVisitors(session){var request=getHTTPObject();if(request){request.onreadystatechange=function(){parseResponse(request);};var sendRequest=true;if(session>0){var exdate=new Date();var visit_date=getCookie("visitortime");session=parseInt(session)*60000;if(visit_date!=null&&visit_date!=""){if(exdate.getTime()<parseInt(visit_date)+parseInt(session)){sendRequest=false;}}value=exdate.getTime();setCookie("visitortime",value,31);}if(sendRequest){var url="index.php?option=com_jsvisit_counter&format=raw&task=countVisits";request.open("POST",url,true);request.send(null);}}}function parseResponse(request){if(request.readyState==4){if(request.status==200||request.status==304){processReceived(request.responseText);}}}function processReceived(returnData){return false;}